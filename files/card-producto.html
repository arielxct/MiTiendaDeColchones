<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Producto</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
      .card-producto-grid {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
        margin: 20px;
      }
      .imagen-mas-boton-comprar {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        width: 400px;
      }
      .imagen-card {
        width: 100%;
        text-align: center;
      }
      #producto-imagen {
        width: 100%;
        max-height: 300px;
        object-fit: contain;
        border-radius: 8px;
      }
      .botones-comprar-agregar-carrito {
        display: flex;
        justify-content: space-around;
        margin-top: 20px;
        width: 100%;
      }
      .botones-comprar-agregar-carrito button {
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .botones-comprar-agregar-carrito button:hover {
        background-color: #0056b3;
      }
      .precios-modos-pagos {
        display: flex;
        flex-direction: column;
        gap: 20px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        width: 400px;
      }
      .elegir-medida select, .seleccionar-medio-de-pago select {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 1em;
      }
      #medida-seleccionada, #precio-final, #modo-de-pago {
        font-size: 1.2em;
        font-weight: bold;
        color: #008000;
      }
      @media (max-width: 768px) {
        .card-producto-grid {
          flex-direction: column;
          align-items: center;
        }
        .imagen-mas-boton-comprar, .precios-modos-pagos{
            width: 100%;
        }
      }
    </style>
</head>
<body>
    <header>
  <div class="cabecera">
    <div class="logo-titulo-carrito">
      <div class="logo-titulo">
        <!--<a href="/index.html">-->
          <a href="https://arielxct.github.io/MiTiendaDeColchones/"></a>
          <img src="../image/logo.png" alt="Logo de la tienda" class="logo">
        </a>
      </div>
      <div class="titulo">
        <h1>Tu Tienda de Colchones</h1>
      </div>
      <div class="carrito-texto">
        <a href="./files/carrito.html">
          <img src="../image/carrito-rojo.png" alt="Carrito de compras" class="carrito">
        </a>
      </div>
      <!-- Menú Hamburguesa -->
      <button class="menu-toggle" id="menu-toggle">&#9776;</button>
    </div>

    <!-- Menú de navegación -->
    <nav id="menu-nav" class="menu-nav">
      <ul>
        <li><a href="/index.html">Inicio</a></li>
        
        <li><a href="../files/sommiers.html">Sommiers</a></li>
        <li><a href="../files/almohadas.html">Almohadas</a></li>
        <li><a href="../files/accesorios.html">Accesorios</a></li>
        <li><a href="../files/contactos.html">Contactos</a></li>
      </ul>
    </nav>
  </div>
</header>
        <div class="banner">
            <h2>COMPRE SU PRODUCTO - LEA MAS DE EL Y HAGA SU COMPRA</h2>
        </div>
        <div class="card-producto-grid">
            <div class="imagen-mas-boton-comprar">
                <div class="imagen-card">
                    <img id="producto-imagen" src="" alt="">
                    <h3 id="producto-titulo"></h3>
                    <p id="producto-descripcion"></p>
                    <a href="colchones.html">Volver</a>
                </div>
                <div class="botones-comprar-agregar-carrito">
                    <div class="boton-comprar">
                        <a href="carrito.html">
                            
                            <button id="boton-comprar" onclick="agregarProductoAlCarrito(document.getElementById('producto-titulo').innerText)">Comprar</button>
                        </a>
                    </div>
                    <div class="boton-agregar-carrito">
                        <button id="boton-agregar-carrito" onclick="agregarProductoAlCarrito(document.getElementById('producto-titulo').innerText);">Agregar al Carrito</button>
                    </div>
                </div>
            </div>
            <div class="precios-modos-pagos">
                <div class="datos-producto">
                    <div class="elegir-medida">
                        <h3>Seleccionar la Medida deseada</h3>
                        <select name="medida-producto" id="medida-seleccionada-select" title="Seleccione la medida del producto" onchange="actualizarPrecio()">
                            <option value="1300000">1.40 x 1.90 mts</option>
                            <option value="1600000">1.60 x 1.90 mts</option>
                            <option value="2000000">2.00 x 2.00 mts</option>
                        </select>
                    </div>
                    <div class="a-pagar">
                        <div class="medida-seleccionada">
                            <h3>Precio Medida Seleccionada</h3>
                            <p id="medida-seleccionada">0 </p>
                            <label for="medida-seleccionada-select">Pesos</label>
                        </div>
                        <div class="descuentos-precio-medida-seleccionada">
                            <h3>Descuentos</h3>
                            <p id="descuentos-precio-medida-seleccionada">10%</p>
                        </div>
                        <div class="precio-final">
                            <h3>Precio Final</h3>
                            <p id="precio-final">$</p>
                            <label for="precio-final">Pesos</label>
                        </div>
                    </div>
                    <div class="modos-pago">
                        <h3>Medios de Pago</h3>
                        <select name="modo-pago" id="modo-de-select" title="Seleccione su modo de pago" onchange="document.getElementById('modo-de-pago').innerText = this.value;">
                            <option value="Efectivo">Efectivo</option>
                            <option value="Debito">Debito</option>
                            <option value="Visa">Visa</option>
                            <option value="Mastercard">Mastercard</option>
                            <option value="Mercado Pago">Mercado Pago</option>
                            <option value="Modo">Modo</option>
                        </select>
                        <div class="modo-seleccionado">
                            <h3>Modo Seleccionado</h3>
                            <p id="modo-de-pago">Modo de pago seleccionado</p>
                        </div>
                    </div>
                    <div class="seleccionar-medio-de-pago">
                        <h3>Seleccionar forma de pago</h3>
                        <h3>Formas de Pago - Contado/Cuotas</h3>
                        <select name="medio-pago" id="medio-pago-select" title="Seleccione el medio de pago" onchange="document.getElementById('modos-pago').innerText = this.value;">
                            <option value="Contado">Contado</option>
                            <option value="12 Cuotas">12 Cuotas</option>
                            <option value="24 Cuotas">24 Cuotas</option>
                            <option value="36 Cuotas">36 Cuotas</option>
                            <option value="48 Cuotas">48 Cuotas</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="redes-sociales">
            <a href="https://www.facebook.com" target="_blank" rel="noopener">Facebook</a>
            <a href="https://www.instagram.com" target="_blank"rel="noopener">Instagram</a>
            <a href="https://www.twitter.com" target="_blank" rel="noopener">Twitter</a>
        </div>
        <p>© 2025 Todos los derechos reservados. Tienda de Colchones.</p>
    </footer>
    <script>
        function actualizarPrecio() {
            const precioBase = parseFloat(document.getElementById('medida-seleccionada-select').value);
            const descuentoTexto = document.getElementById('descuentos-precio-medida-seleccionada').innerText;
            const descuento = parseFloat(descuentoTexto.replace('%', '')) / 100;
            const precioFinal = precioBase * (1 - descuento);
            const precioFormateado = `$${precioFinal.toLocaleString('es-AR')}`;
            document.getElementById('precio-final').innerText = precioFormateado;
            document.getElementById('medida-seleccionada').innerText = precioFormateado; // Actualiza también el precio de la medida seleccionada.
        }

        function agregarProductoAlCarrito(nombreProducto) {
            const select = document.getElementById('medida-seleccionada-select');
            const medidaTexto = select.options[select.selectedIndex].text;
            const precioBase = parseFloat(select.value);
            const descuentoTexto = document.getElementById('descuentos-precio-medida-seleccionada').innerText;
            const descuento = parseFloat(descuentoTexto.replace('%', '')) / 100;
            const precioFinal = precioBase * (1 - descuento);
            const producto = {
                nombre: `${nombreProducto} (${medidaTexto})`,
                precio: precioFinal
            };
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            carrito.push(producto);
            localStorage.setItem('carrito', JSON.stringify(carrito));
            window.location.href = 'carrito.html';
        }

        document.addEventListener('DOMContentLoaded', function () {
            const datos = JSON.parse(localStorage.getItem('productoSeleccionado'));
            if (datos) {
                document.getElementById('producto-imagen').src = datos.imagen;
                document.getElementById('producto-imagen').alt = datos.titulo;
                document.getElementById('producto-titulo').innerText = datos.titulo;
                document.getElementById('producto-descripcion').innerText = datos.descripcion;
                 actualizarPrecio(); // Llama a la función para mostrar el precio inicial al cargar la página.
            } else {
                document.querySelector('.detalle-producto').innerHTML = '<p>Producto no encontrado.</p>';
            }
        });
    </script>
</body>
</html>
