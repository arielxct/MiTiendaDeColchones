<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Administrar Usuarios</title>
  <link rel="stylesheet" href="../css/style.css" />
  <style>
    /*-- Estilos específicos para la página de ABM de usuarios */
    /*--
    .login-admin, .abm-container {
      padding: 1rem;
      max-width: 450px;
      margin: auto;
    }
    .login-admin input, .login-admin button {
      display: block;
      width: 80%;
      margin: 0.5rem 0;
      padding: 0.5rem;
    }
    .abm-container {
      display: none;
      
    }
    .tabla-usuarios input {
      width: 85%;
    }
      */
      .login-admin {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  margin: auto;
  max-width: 400px;
  background-color: #f9f9f9;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.login-admin input,
.login-admin button {
  width: 100%;
  padding: 0.7rem;
  margin: 0.5rem 0;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.login-admin button {
  background-color: #c62828;
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s;
}

.login-admin button:hover {
  background-color: #a32020;
}

  </style>
</head>
<body>
  <header>
    <div class="cabecera">
        <div class="logo-titulo-carrito">
            <div class="logo-titulo">
                <a href="https://arielxct.github.io/MiTiendaDeColchones/">
                  <img src="../image/logo.png" alt="Logo de la tienda" class="logo">
                 </a>
        <!-- agregado 17/9/25*****************-->
         <a href="../files/usuarios.html" class="boton-registro">Registrarse</a>

      </div>
      <div class="titulo">
        <h1>Tu Tienda de Colchones</h1>
      </div>
      <div class="carrito-texto">
        <a href="./carrito.html">
          <img src="../image/carrito-rojo.png" alt="Carrito de compras" class="carrito">
        </a>
      </div>
      <!-- Menú Hamburguesa -->
      <button class="menu-toggle" id="menu-toggle">&#9776;</button>
    </div>

    <!-- Menú de navegación -->
    <nav id="menu-nav" class="menu-nav">
      <ul>
        
         <li><a href="https://arielxct.github.io/MiTiendaDeColchones/">Inicio</a></li>
        <li><a href="./colchones.html">Colchones</a></li>
        <li><a href="./sommiers.html">Sommiers</a></li>
        <li><a href="./almohadas.html">Almohadas</a></li>
        <li><a href="./accesorios.html">Accesorios</a></li>
        <li><a href="./contactos.html">Contactos</a></li>
        <!-- agegado 17/6/25 -->
         <li><a href="./abm_usuarios.html" class="boton-registro">Administrar Usuarios</a></li>

      </ul>
    </nav>
  </div>
    <h1>Administración de Usuarios</h1>
  </header>

  <!-- Paso previo: Login admin -->
  <section class="login-admin" id="login-admin">
    <h2>Acceso solo para administradores</h2>
    <input type="email" id="admin-email" placeholder="Email del administrador" required />
    <input type="password" id="admin-pass" placeholder="Contraseña" required />
    <button onclick="verificarAcceso()">Ingresar</button>
    <p id="error-msg" style="color: red;"></p>
  </section>

  <!-- ABM -->
  <main class="abm-container" id="abm-container">
    <table border="1" id="tabla-usuarios" class="tabla-usuarios">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>Contraseña</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- Cargado dinámicamente -->
      </tbody>
    </table>
  </main>

  <footer>
    <div class="redes-sociales">
            <a href="https://www.facebook.com" target="_blank" rel="noopener">Facebook</a>
            <a href="https://www.instagram.com" target="_blank"rel="noopener">Instagram</a>
            <a href="https://www.twitter.com" target="_blank" rel="noopener">Twitter</a>
        </div>
        <p>© 2025 Todos los derechos reservados. Tienda de Colchones.</p>
    
  </footer>

  <script src="../js/abm_usuarios.js"></script>
  <script>
    function verificarAcceso() {
      const email = document.getElementById('admin-email').value.trim();
      const pass = document.getElementById('admin-pass').value.trim();
      const error = document.getElementById('error-msg');

      const usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];

      const admin = usuarios.find(user =>
        user.nombre === 'admin' &&
        user.email === 'admin@tiendadecolchones.com.ar' &&
        user.password === 'admin1234'
      );

      if (admin && email === admin.email && pass === admin.password) {
        document.getElementById('login-admin').style.display = 'none';
        document.getElementById('abm-container').style.display = 'block';
        cargarUsuarios(); // de abm_usuarios.js
      } else {
        error.textContent = "⚠️ Acceso denegado. Credenciales inválidas.";
      }
    }

        document.getElementById('menu-toggle').addEventListener('click', function () {
        document.getElementById('menu-nav').classList.toggle('active');
            });

  </script>
</body>
</html>
